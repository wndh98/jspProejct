<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="userns">
	<resultMap id="userResultMap" type="user">
		<id property="userNum" column="USER_NUM" />
		<id property="userId" column="USER_ID" />
		<id property="userPassword" column="USER_PASSWORD" />
		<id property="userType" column="USER_TYPE" />
		<id property="userName" column="USER_NAME" />
		<id property="userAddressNum" column="USER_ADDRESS_NUM" />
		<id property="userAddress" column="USER_ADDRESS" />
		<id property="userAddressEtc" column="USER_ADDRESS_ETC" />
		<id property="userTel" column="USER_PHONE" />
		<id property="userPhone" column="USER_TEL" />
		<id property="userEmail" column="USER_EMAIL" />
		<id property="userSolar" column="USER_SOLAR" />
		<id property="userBirthday" column="USER_BIRTHDAY" />
		<id property="userComName" column="USER_COM_NAME" />
		<id property="userComNum" column="USER_COM_NUM" />
		<id property="userCoNum" column="USER_CO_NUM" />
		<id property="userRecommend" column="USER_RECOMMEND" />
		<id property="userPoint" column="USER_POINT" />
		<id property="userDel" column="USER_DEL" />
		<id property="userSnsAgree" column="USER_SNS_AGREE" />
		<id property="userEmailAgree" column="USER_EMAIL_AGREE" />
		<id property="userRegist" column="USER_REGIST" />
	</resultMap>
	<select id="loginFindById" resultMap="userResultMap">
		select * from muni_user where user_id = #{userId} and user_del='N'
	</select>
	<select id="findById" resultMap="userResultMap">
		select * from muni_user where user_id = #{userId}
	</select>
	<select id="findByAllCnt" resultType="int">
		select count(*) from muni_user
	</select>
	<select id="selectUserList" parameterType="pagination" resultMap="userResultMap">
		select * from muni_user order by USER_NUM asc offset #{startIndex} rows fetch next #{pageSize} rows only
	</select>
	<insert id="insert" parameterType="user">
		insert into muni_user(USER_ID,USER_PASSWORD,USER_TYPE,USER_NAME,USER_ADDRESS_NUM,USER_ADDRESS,USER_ADDRESS_ETC,USER_TEL,USER_PHONE,USER_EMAIL,USER_SOLAR,USER_BIRTHDAY,USER_COM_NAME,USER_COM_NUM,USER_CO_NUM,USER_RECOMMEND,USER_POINT,USER_DEL,USER_SNS_AGREE,USER_EMAIL_AGREE,USER_REGIST) values
		(#{userId},#{userPassword},#{userType},#{userName},#{userAddressNum},#{userAddress},#{userAddressEtc},#{userTel},#{userPhone},#{userEmail},#{userSolar},#{userBirthday},#{userComName},#{userComNum},#{userCoNum},#{userRecommend},#{userPoint},'N',#{userSnsAgree},#{userEmailAgree},sysdate)
	</insert>
</mapper>